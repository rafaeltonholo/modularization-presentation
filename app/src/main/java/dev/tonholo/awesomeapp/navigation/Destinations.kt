package dev.tonholo.awesomeapp.navigationimport androidx.navigation.NavControllerimport androidx.navigation.NavGraphBuilderimport androidx.navigation.NavTypeimport androidx.navigation.compose.composableimport androidx.navigation.navArgumentimport dev.tonholo.awesomeapp.features.feed.FeedScreenimport dev.tonholo.awesomeapp.features.imagedetail.ImageDetailScreensealed interface Destination {    val route: String    fun setup(navController: NavController, builder: NavGraphBuilder)}object Destinations {    val startDestination = Feed.route    object Feed : Destination {        override val route = "feed"        override fun setup(navController: NavController, builder: NavGraphBuilder) = with(builder) {            composable(this@Feed.route) {                FeedScreen(navController)            }        }    }    object ImageDetails : Destination {        private const val PARAM_ID = "id"        private const val baseRoute = "image_detail"        override val route = "$baseRoute/{$PARAM_ID}"        override fun setup(navController: NavController, builder: NavGraphBuilder) = with(builder) {            composable(                route = this@ImageDetails.route,                arguments = listOf(                    navArgument(PARAM_ID) {                        type = NavType.StringType                    }                ),            ) {                val id = it.arguments?.getString(PARAM_ID)                    ?: throw IllegalArgumentException("Can't access image detail without id")                ImageDetailScreen(imageId = id, navController = navController)            }        }        operator fun invoke(id: String) = "$baseRoute/$id"    }    fun NavGraphBuilder.setupRoutes(navController: NavController) {        Feed.setup(navController, this)        ImageDetails.setup(navController, this)    }}